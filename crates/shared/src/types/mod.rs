// ============================================
// 공통 타입 정의
// ============================================
// 모든 도메인에서 사용하는 기본 타입들

use chrono::{DateTime, Utc};           // 날짜/시간 타입
use serde::{Deserialize, Serialize};   // 직렬화 트레이트 (아직 안 씀, 나중에 필요)
use uuid::Uuid;                        // UUID 타입

// ============================================
// 타입 별칭 (Type Alias)
// ============================================
// type A = B; 는 "A는 B의 다른 이름"이라는 의미
// 코드 가독성을 위해 사용

/// 공통 ID 타입
/// 모든 엔티티의 ID는 UUID 사용
/// 예: RepositoryId, UserId, BuildId 등
pub type Id = Uuid;

/// 타임스탬프 타입
/// 생성일시, 수정일시 등에 사용
/// Utc: 협정 세계시 (시간대 없음)
pub type Timestamp = DateTime<Utc>;

// ============================================
// 헬퍼 함수
// ============================================

/// 새로운 고유 ID 생성
/// UUID v4: 랜덤 기반 UUID
/// 
/// # 사용 예시
/// ```
/// let id = new_id();
/// println!("{}", id);  // "550e8400-e29b-41d4-a716-446655440000" 같은 형태
/// ```
pub fn new_id() -> Id {
    Uuid::new_v4()
}

/// 현재 시간 반환 (UTC)
/// 
/// # 사용 예시
/// ```
/// let created_at = now();
/// println!("{}", created_at);  // "2024-01-15T10:30:00Z" 같은 형태
/// ```
pub fn now() -> Timestamp {
    Utc::now()
}

// ============================================
// 참고: 나중에 추가될 수 있는 타입들
// ============================================
// 
// /// 페이지네이션 파라미터
// pub struct Pagination {
//     pub page: u32,
//     pub per_page: u32,
// }
//
// /// 정렬 방향
// pub enum SortOrder {
//     Asc,
//     Desc,
// }
