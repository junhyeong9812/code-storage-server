# ============================================
# build 크레이트 Cargo.toml
# ============================================
# Build 도메인 (Bounded Context)
# CI/CD 파이프라인 실행, 빌드 큐 관리 담당
#
# 주의: 크레이트 이름을 "build"로 하면 Cargo의 build.rs와 충돌 가능
# 그래서 "css-build" (Code Storage Server Build)로 명명

[package]
name = "css-build"             # 크레이트 이름 (build 대신 css-build)
version.workspace = true       # 워크스페이스 버전 상속
edition.workspace = true       # 워크스페이스 에디션 상속
license.workspace = true       # 워크스페이스 라이선스 상속

# ============================================
# 의존성
# ============================================

[dependencies]
# --------------------------------------------
# 내부 크레이트 의존성
# --------------------------------------------
shared = { path = "../shared" }

# --------------------------------------------
# 외부 의존성 (워크스페이스에서 버전 상속)
# --------------------------------------------
tokio.workspace = true         # 비동기 런타임 (빌드 작업 비동기 처리)
axum.workspace = true          # 웹 프레임워크 (빌드 API)
serde.workspace = true         # 직렬화/역직렬화
serde_json.workspace = true    # JSON 처리 (빌드 설정 파싱)
sqlx.workspace = true          # 데이터베이스 (빌드 이력 저장)
thiserror.workspace = true     # 에러 타입 정의
anyhow.workspace = true        # 에러 처리
tracing.workspace = true       # 로깅 (빌드 로그)
uuid.workspace = true          # 빌드 ID 생성
chrono.workspace = true        # 빌드 시작/종료 시간

# 참고: 나중에 Docker 관련 의존성 추가 예정
# bollard = "0.15"  # Docker API 클라이언트
